# Strapi-Next Decoupled Monorepo

This project is a high-performance, decoupled web application built on a modern, production-ready stack. It features a Strapi backend for powerful and flexible content management, and a Next.js frontend for a fast, scalable, and rich user experience.

This monorepo is architected to support a hyper-modular, test-driven, and perpetually-extensible development workflow.

---

### **Table of Contents**

1.  [**Project Status & Intentions**](#1-project-status--intentions)
2.  [**Core Architecture**](#2-core-architecture)
3.  [**Getting Started**](#3-getting-started)
4.  [**Software Bill of Materials (SBOM)**](#4-software-bill-of-materials-sbom)
5.  [**Development Plan & Strategy**](#5-development-plan--strategy)
6.  [**In-Depth Documentation**](#6-in-depth-documentation)

---

### **1. Project Status & Intentions**

*   **Status:** This project has completed its initial setup and foundational hardening phase. Core frameworks are installed, a basic content structure is defined, a CI/CD pipeline is in place, and a TDD environment is configured.
*   **Intentions & Objectives:** To serve as a robust, production-ready foundation for a "headless" or "decoupled" application. The Strapi backend manages content, which is consumed and displayed by the Next.js frontend.
*   **Use-Cases:** This architecture is well-suited for marketing websites, blogs, e-commerce sites, portfolios, and any application requiring dynamic content management with a high-performance user interface.

### **2. Core Architecture**

This project follows a decoupled, monorepo architecture:

*   **/backend:** A [Strapi v5](https://strapi.io/) application. It serves as the content API and admin panel. All data, content models, and business logic reside here.
*   **/frontend:** A [Next.js 15](https://nextjs.org/) application using React 19 and Tailwind CSS v4. It is responsible for all UI/UX and consumes data from the backend.
*   **/__.templates__:** A collection of standardized, best-practice templates for generating new Strapi API components, created to bypass the inconsistencies of the Strapi CLI.
*   **/docs:** Contains in-depth documentation, architectural diagrams, and development guides.

### **3. Getting Started**

Detailed instructions for setup and development can be found in the [Development Workflow Guide](./docs/development-workflow.md).

### **4. Software Bill of Materials (SBOM)**

Here is a summary of the key dependencies. A full list is available in the `package-lock.json` files.

**Root:**

* `concurrently`: `^8.2.2`
* `npm-check-updates`: `^16.14.15`

**Frontend (`frontend/package.json`):**

* `next`: `15.3.2`
* `react`: `^19.0.0`
* `react-dom`: `^19.0.0`
* `tailwindcss`: `^4` (dev dependency)
* `typescript`: `^5` (dev dependency)
* `eslint`: `^9` (dev dependency)

**Backend (`backend/package.json`):**

* `@strapi/strapi`: `5.13.0`
* `@strapi/plugin-users-permissions`: `5.13.0`
* `@strapi/plugin-cloud`: `5.13.0`
* `pg`: `8.8.0` (PostgreSQL driver)
* `react`: `^18.0.0`
* `react-dom`: `^18.0.0`
* `typescript`: `^5` (dev dependency)

### **5. Development Plan & Strategy**

My primary observation is that the project is strategically positioned on the **forefront of modern web development by utilizing the latest stable releases** for its core frontend technologies.

*   **Backend:** The backend uses stable, production-ready versions of Strapi and its related packages. This provides a robust and reliable foundation for content management.
*   **Frontend:** The frontend is built on the latest major stable releases of its core frameworks:
    *   **Next.js 15 & React 19:** These versions are now stable and production-ready, bringing significant performance improvements, new features like the React Compiler (experimental), and an enhanced developer experience.
    *   **Tailwind CSS v4.0:** This major release is also stable, offering a new high-performance engine, CSS-first configuration, and a host of modern CSS features.

**Guidance:**
The project's "bleeding-edge" frontend stack has matured into a powerful, stable, and production-ready foundation. This allows the project to leverage the latest platform features and optimizations. While the ecosystem of third-party libraries is continually catching up to these new major versions, the core stack is solid. The primary risk has shifted from framework instability to ensuring compatibility with the broader library ecosystem as development progresses.

**Phase 1: Harden the Foundation & Align with Latest Stable Releases (Immediate Priority)**

1.  **Standardize on Latest Stable Frontend Dependencies:**
    * The project's initial use of bleeding-edge versions has now aligned with the latest stable releases. The plan is to proceed with:
        * **Next.js 15**
        * **React 19**
        * **Tailwind CSS v4.0+**
    * We will ensure all related frontend dependencies (`@types/react`, etc.) are updated to versions compatible with this stack.

2.  **Comprehensive Dependency Audit & Update:**
    * Use `npm-check-updates -u` in the `root`, `frontend`, and `backend` directories to audit and update all other dependencies to their latest stable versions, ensuring full compatibility.
    * After updating, run `npm install` in each directory to regenerate `package-lock.json` files and verify the dependency tree.

3.  **Establish a CI/CD Pipeline:**
    * Set up a basic CI pipeline (e.g., using GitHub Actions) that runs on every push/PR.
    * This pipeline should:
        * Install dependencies for both frontend and backend.
        * Run linting (`npm run lint` on the frontend).
        * Run builds (`npm run build` on both).
        * (Future) Run automated tests.

**Phase 2: Development & Content Modeling**

1. **Define Content Structure in Strapi:**
    * Begin modeling your content by creating "Content-Types" (e.g., "Article", "Product", "Page") in the Strapi admin panel.
    * Define fields for each content type (text, images, relations, etc.).

2. **Develop Frontend Components:**
    * Create React components in the `frontend/` directory to display the content from Strapi.
    * Implement logic to fetch data from your Strapi API. Use environment variables to store your Strapi URL (`NEXT_PUBLIC_STRAPI_API_URL`).

3. **Implement Testing:**
    * **Backend:** Write tests for any custom controllers or services you create in Strapi.
    * **Frontend:** Implement unit tests for complex components and integration tests for page-level functionality. Consider using Jest and React Testing Library.

**Phase 3: Optimization & Modernization**

1. **Image Optimization:**
    * Use the Strapi media library effectively.
    * On the frontend, use the `next/image` component to automatically optimize images for different devices and screen sizes.

2. **Performance:**
    * Leverage Next.js features like Static Site Generation (SSG) for pages that don't change often (like blog posts or marketing pages) and Server-Side Rendering (SSR) or Incremental Static Regeneration (ISR) for more dynamic content. This will be a huge performance win.

3. **Security:**
    * Configure Strapi's Roles & Permissions to ensure that public API endpoints are read-only and that only authenticated users can create or modify content.
    * Secure your Next.js application by following best practices for handling environment variables and preventing XSS attacks.

This comprehensive plan will guide the project from its current experimental state to a stable, secure, and high-performance application. My next step would be to assist you in implementing Phase 1, starting with downgrading the frontend dependencies.

### **6. In-Depth Documentation**

For more detailed information, please refer to the documents in the `/docs` directory:

*   **[Architecture Overview](./docs/architecture.md):** A deep dive into the decoupled architecture, data flow, and responsibilities of each service.
*   **[Development Workflow](./docs/development-workflow.md):** Detailed instructions for setting up the development environment, using the Strapi templates, and following the TDD process.
*   **[FAQ & Troubleshooting](./docs/faq-troubleshooting.md):** A living document covering common questions, known issues (and their solutions), and best practices.
